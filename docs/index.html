<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download TimeSeries Data From Waterinfo.be â€¢ wateRinfo</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">wateRinfo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/define_date_periods.html">Definition of the date period to download</a>
    </li>
    <li>
      <a href="articles/download_timeseries_batch.html">Downloading time series in batch</a>
    </li>
    <li>
      <a href="articles/download_timeseries.html">Download time series from Waterinfo.be</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stijnvanhoey/wateRinfo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="waterinfo" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#waterinfo" class="anchor"></a>wateRinfo</h1></div>

<p>The goal of wateRinfo is to facilitate access to the variety of data available on <a href="https://www.waterinfo.be/">waterinfo.be</a> by providing an R-interface to download time series data.</p>
<p>An <a href="https://www.waterinfo.be/download/9f5ee0c9-dafa-46de-958b-7cac46eb8c23?dl=0">API</a> is provided by waterinfo.be to request time series data. However, this still requires the proper composition of the URL with the identification codes (<code>Timeseriesgroup_id</code> and <code>ts_id</code>) as used by the system itself. To facilitate the user in searching for stations and variables and consequently download the data of interest, this package provides some general R functions to download the <code>waterinfo.be</code> data.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install wateRinfo from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"inbo/wateRinfo"</span>)</code></pre></div>
<p>when succesfull, load it as usual:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(wateRinfo)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>For a number of supported variables (<a href="https://www.waterinfo.be/download/9f5ee0c9-dafa-46de-958b-7cac46eb8c23?dl=0">documented</a> by VMM), the stations providing time series data for a given variable can be listed with the command <code>get_stations</code>.</p>
<p>If you want to know the supported variables, ask for the supported variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/supported_variables.html">supported_variables</a></span>(<span class="st">'en'</span>)
<span class="co">#&gt;              variable_en</span>
<span class="co">#&gt; 1              discharge</span>
<span class="co">#&gt; 6        soil_saturation</span>
<span class="co">#&gt; 7          soil_moisture</span>
<span class="co">#&gt; 8  dew_point_temperature</span>
<span class="co">#&gt; 9     ground_temperature</span>
<span class="co">#&gt; 10           ground_heat</span>
<span class="co">#&gt; 11            irradiance</span>
<span class="co">#&gt; 12          air_pressure</span>
<span class="co">#&gt; 13 air_temperature_175cm</span>
<span class="co">#&gt; 14              rainfall</span>
<span class="co">#&gt; 20     relative_humidity</span>
<span class="co">#&gt; 21  evaporation_monteith</span>
<span class="co">#&gt; 25    evaporation_penman</span>
<span class="co">#&gt; 29        water_velocity</span>
<span class="co">#&gt; 34           water_level</span></code></pre></div>
<p>Listing the available air_pressure stations:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/get_stations.html">get_stations</a></span>(<span class="st">'air_pressure'</span>)
<span class="co">#&gt;      ts_id station_latitude station_longitude station_id station_no</span>
<span class="co">#&gt; 1 78124042         51.20300          5.439589      12213   ME11_002</span>
<span class="co">#&gt; 2 78039042         51.24379          4.266912      12208   ME04_001</span>
<span class="co">#&gt; 3 78005042         51.02263          2.970584      12206   ME01_003</span>
<span class="co">#&gt; 4 78107042         51.16224          4.845708      12212   ME10_011</span>
<span class="co">#&gt; 5 78073042         50.88663          4.094898      12210   ME07_006</span>
<span class="co">#&gt; 6 78022042         51.27226          3.728299      12207   ME03_017</span>
<span class="co">#&gt; 7 78056042         50.86149          3.411318      12209   ME05_019</span>
<span class="co">#&gt; 8 78090042         50.73795          5.141976      12211   ME09_012</span>
<span class="co">#&gt;              station_name stationparameter_name parametertype_name</span>
<span class="co">#&gt; 1             Overpelt_ME                    Pa                 Pa</span>
<span class="co">#&gt; 2              Melsele_ME                    Pa                 Pa</span>
<span class="co">#&gt; 3               Zarren_ME                    Pa                 Pa</span>
<span class="co">#&gt; 4            Herentals_ME                    Pa                 Pa</span>
<span class="co">#&gt; 5           Liedekerke_ME                    BP                 Pa</span>
<span class="co">#&gt; 6            Boekhoute_ME                    Pa                 Pa</span>
<span class="co">#&gt; 7              Waregem_ME                    Pa                 Pa</span>
<span class="co">#&gt; 8 Niel-bij-St.-Truiden_ME                    Pa                 Pa</span>
<span class="co">#&gt;   ts_unitsymbol dataprovider</span>
<span class="co">#&gt; 1           hPa          VMM</span>
<span class="co">#&gt; 2           hPa          VMM</span>
<span class="co">#&gt; 3           hPa          VMM</span>
<span class="co">#&gt; 4           hPa          VMM</span>
<span class="co">#&gt; 5           hPa          VMM</span>
<span class="co">#&gt; 6           hPa          VMM</span>
<span class="co">#&gt; 7           hPa          VMM</span>
<span class="co">#&gt; 8           hPa          VMM</span></code></pre></div>
<p>Each of the stations in the list for a given variable, are represented by a <code>ts_id</code>. These can be used to download the data of a given period with the command <code>get_timeseries_tsid</code>, for example Overpelt (<code>ts_id = 78124042</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">overpelt_pressure &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"78124042"</span>, 
                                         <span class="dt">from =</span> <span class="st">"2017-04-01"</span>, 
                                         <span class="dt">to =</span> <span class="st">"2017-04-02"</span>)
<span class="kw">head</span>(overpelt_pressure)
<span class="co">#&gt;             Timestamp  Value Quality Code</span>
<span class="co">#&gt; 1 2017-04-01 00:00:00 1008.8          130</span>
<span class="co">#&gt; 2 2017-04-01 00:15:00 1008.7          130</span>
<span class="co">#&gt; 3 2017-04-01 00:30:00 1008.7          130</span>
<span class="co">#&gt; 4 2017-04-01 00:45:00 1008.6          130</span>
<span class="co">#&gt; 5 2017-04-01 01:00:00 1008.5          130</span>
<span class="co">#&gt; 6 2017-04-01 01:15:00 1008.4          130</span></code></pre></div>
<p>Making a plot of the data with ggplot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(overpelt_pressure, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> Timestamp, <span class="dt">y =</span> Value)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">xlab</a></span>(<span class="st">""</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ylab</a></span>(<span class="st">"hPa"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_date">scale_x_datetime</a></span>(<span class="dt">date_labels =</span> <span class="st">"%H:%M</span><span class="ch">\n</span><span class="st">%Y-%m-%d"</span>, <span class="dt">date_breaks =</span> <span class="st">"6 hours"</span>)</code></pre></div>
<p><img src="figures/README-plot_pressure-1.png" width="80%"></p>
<p>Another option is to check the available variables for a given station, with the function <code>get_variables</code>. Letâ€™s consider again Overpelt (<code>ME11_002</code>) and check the first ten available variables at the Overpelt measurement station:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vars_overpelt &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_variables.html">get_variables</a></span>(<span class="st">"ME11_002"</span>)
<span class="co">#&gt; [1] "Use datasource: 1 for data requests of this station!"</span>
<span class="kw">head</span>(vars_overpelt, <span class="dv">10</span>)
<span class="co">#&gt;    station_name station_no    ts_id                    ts_name</span>
<span class="co">#&gt; 1   Overpelt_ME   ME11_002 78118042                 KalJaarMin</span>
<span class="co">#&gt; 2   Overpelt_ME   ME11_002 96256042 Penman.IWRS.DagTotaal.8:00</span>
<span class="co">#&gt; 3   Overpelt_ME   ME11_002 78693042                       P.15</span>
<span class="co">#&gt; 4   Overpelt_ME   ME11_002 78522042                 HydJaarMax</span>
<span class="co">#&gt; 5   Overpelt_ME   ME11_002 90366042                 HydJaarMax</span>
<span class="co">#&gt; 6   Overpelt_ME   ME11_002 78804042                 KalJaarMax</span>
<span class="co">#&gt; 7   Overpelt_ME   ME11_002 78797042                     DagGem</span>
<span class="co">#&gt; 8   Overpelt_ME   ME11_002 78523042                 HydJaarMin</span>
<span class="co">#&gt; 9   Overpelt_ME   ME11_002 94682042                   MaandMin</span>
<span class="co">#&gt; 10  Overpelt_ME   ME11_002 78382042                     DagGem</span>
<span class="co">#&gt;    parametertype_name stationparameter_name</span>
<span class="co">#&gt; 1                  Pa                    Pa</span>
<span class="co">#&gt; 2                 PET                   pET</span>
<span class="co">#&gt; 3                  Ud                  WDir</span>
<span class="co">#&gt; 4                  Ts                 SoilT</span>
<span class="co">#&gt; 5                  Ta             Ta(1.75m)</span>
<span class="co">#&gt; 6                  Td                    Td</span>
<span class="co">#&gt; 7                  Td                    Td</span>
<span class="co">#&gt; 8                  Ts                 SoilT</span>
<span class="co">#&gt; 9                  Ta                    Ta</span>
<span class="co">#&gt; 10                 RH                    RH</span></code></pre></div>
<p>Different pre-calculated variables are already available and a <code>ts_id</code> value is available for each of them to download the corresponding data. For example, <code>DagGem</code> (= daily mean values) of <code>RH</code> (= relative humidity), i.e. <code>ts_id = 78382042</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">overpelt_rh_daily &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"78382042"</span>, 
                                         <span class="dt">from =</span> <span class="st">"2017-04-01"</span>, 
                                         <span class="dt">to =</span> <span class="st">"2017-04-30"</span>)
<span class="kw">head</span>(overpelt_rh_daily)
<span class="co">#&gt;             Timestamp Value Quality Code</span>
<span class="co">#&gt; 1 2017-04-01 23:00:00 80.19          130</span>
<span class="co">#&gt; 2 2017-04-02 23:00:00 89.58          130</span>
<span class="co">#&gt; 3 2017-04-03 23:00:00 79.56          130</span>
<span class="co">#&gt; 4 2017-04-04 23:00:00 84.13          130</span>
<span class="co">#&gt; 5 2017-04-05 23:00:00 84.19          130</span>
<span class="co">#&gt; 6 2017-04-06 23:00:00 82.71          130</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(overpelt_rh_daily, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> Timestamp, <span class="dt">y =</span> Value)) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_path">geom_line</a></span>() <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">xlab</a></span>(<span class="st">""</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ylab</a></span>(<span class="st">" RH (%)"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">    </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/scale_date">scale_x_datetime</a></span>(<span class="dt">date_labels =</span> <span class="st">"%b-%d</span><span class="ch">\n</span><span class="st">%Y"</span>, <span class="dt">date_breaks =</span> <span class="st">"5 days"</span>)</code></pre></div>
<p><img src="figures/README-plot_rh-1.png" width="80%"></p>
<p>Unfortunately, not all variables are documented, for which the check for the appropriate variable is not (yet) fully supported by the package.</p>
<p>More detailed tutorials are available in the package vignettes!</p>
</div>
<div id="note-on-restrictions-of-the-downloads" class="section level2">
<h2 class="hasAnchor">
<a href="#note-on-restrictions-of-the-downloads" class="anchor"></a>Note on restrictions of the downloads</h2>
<p>The number of downloads on waterinfo.be is limited. When you require more extended data requests, please contact the developers of waterinfo.be themselve on the e-mail adress <a href="mailto:hydrometrie@waterinfo.be">hydrometrie@waterinfo.be</a>.</p>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>This package is just a small wrapper around waterinfo.be to facilitate researchers and other stakeholders in downloading the data from <a href="http://www.waterinfo.be">waterinfo.be</a>. The availability of this data is made possible by <em>de Vlaamse Milieumaatschappij, Waterbouwkundig Laboratorium, Maritieme Dienstverlening &amp; Kust, Waterwegen en Zeekanaal NV en De Scheepvaart NV</em>.</p>
</div>
<div id="furthermore" class="section level2">
<h2 class="hasAnchor">
<a href="#furthermore" class="anchor"></a>Furthermoreâ€¦</h2>
<p>This package is an experimental open-source project. All functionalities are provided as is, without any guarantee.</p>
<p>Please note that this project is released with a <a href="CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
<p>Please <a href="https://github.com/inbo/wateRinfo/issues/new">report any issues or bugs</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/stijnvanhoey/wateRinfo">https://â€‹github.com/â€‹stijnvanhoey/â€‹wateRinfo</a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Stijn Van Hoey <br><small class="roles"> Author, maintainer </small> <br><small>(http://orcid.org/0000-0001-6413-3185)</small>
</li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/inbo/wateRinfo"><img src="https://travis-ci.org/inbo/wateRinfo.svg?branch=addci" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/stijnvanhoey/wateRinfo"><img src="https://ci.appveyor.com/api/projects/status/github/stijnvanhoey/wateRinfo?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://coveralls.io/r/inbo/wateRinfo?branch=master"><img src="https://coveralls.io/repos/github/inbo/wateRinfo/badge.svg" alt="Coverage Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Stijn Van Hoey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
