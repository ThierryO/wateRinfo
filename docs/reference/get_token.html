<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get waterinfo Token — get_token • wateRinfo</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Get waterinfo Token — get_token" />

<meta property="og:description" content="Retrieve a fresh waterinfo token." />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wateRinfo</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/define_date_periods.html">Definition of the date period to download</a>
    </li>
    <li>
      <a href="../articles/download_timeseries_batch.html">Downloading time series in batch</a>
    </li>
    <li>
      <a href="../articles/download_timeseries.html">Download time series from Waterinfo.be</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../CONTRIBUTING.html">Contributing</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/LifeWatchINBO">
    <span class="fa fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/inbo/wateRinfo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get waterinfo Token</h1>
    <small class="dont-index">Source: <a href='https://github.com/inbo/wateRinfo/blob/master/R/token.R'><code>R/token.R</code></a></small>
    <div class="hidden name"><code>get_token.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Retrieve a fresh waterinfo token.</p>
    
    </div>

    <pre class="usage"><span class='fu'>get_token</span>(<span class='kw'>client</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>client_id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>client_secret</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>token_url</span> <span class='kw'>=</span> <span class='st'>"http://download.waterinfo.be/kiwis-auth/token"</span>)

<span class='fu'>is.expired</span>(<span class='no'>token</span>)

<span class='fu'>expires.in</span>(<span class='no'>token</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>client</th>
      <td><p>base64 encoded client containing the client id and client
secret, seperated by :</p></td>
    </tr>
    <tr>
      <th>client_id</th>
      <td><p>client id string</p></td>
    </tr>
    <tr>
      <th>client_secret</th>
      <td><p>client secret string</p></td>
    </tr>
    <tr>
      <th>token_url</th>
      <td><p>url to get the token from</p></td>
    </tr>
    <tr>
      <th>token</th>
      <td><p>a token object</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class token containing the token string with the
token_url, token type and moment of expiration as attributes.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Either client or client_id and client_secret need to be passed as
arguments. If provided, client is always used. Tokens remain valid for
24 hours, after which a fresh one must be acquired.
To limit load on the server, token objects should be reused as much as
possible until expiration in stead of creating fresh ones for each call.
The client_id and client_secret provided in the examples are for test
purposes, get your very own client via <a href='mailto:hydrometrie@waterinfo.be'>hydrometrie@waterinfo.be</a>!</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Get token via client_id and client_secret</span>
<span class='no'>client_id</span> <span class='kw'>&lt;-</span> <span class='st'>'32dceece-826c-4b98-9c2d-b16978f0ca6a'</span>
<span class='no'>client_secret</span> <span class='kw'>&lt;-</span> <span class='st'>'4ada871a-9528-4b4d-bfd5-b570ce8f4d2d'</span>
<span class='no'>my_token</span> <span class='kw'>&lt;-</span> <span class='fu'>get_token</span>(<span class='kw'>client_id</span> <span class='kw'>=</span> <span class='no'>client_id</span>,<span class='kw'>client_secret</span> <span class='kw'>=</span> <span class='no'>client_secret</span>)
<span class='fu'>print</span>(<span class='no'>my_token</span>)</div><div class='output co'>#&gt; Token:
#&gt; eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIwNzBiZGVkMC1iYzFjLTQ2OWEtYTc3MS1kMDU4Nzc5Nzc3NzEiLCJpYXQiOjE1MzgzOTU3NjcsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9LaVdlYlBvcnRhbC9hdXRoIiwiYXVkIjoiMzJkY2VlY2UtODI2Yy00Yjk4LTljMmQtYjE2OTc4ZjBjYTZhIiwiZXhwIjoxNTM4NDgyMTY3fQ.KtxpHKxd7XnPoXog8rR8L6XguWHXCMN_nmOUWT8kqMw
#&gt; 
#&gt; Attributes:
#&gt;  url: http://download.waterinfo.be/kiwis-auth/token
#&gt;  type: Bearer
#&gt;  expires: 2018-10-02 14:09:26 CEST</div><div class='input'><span class='co'># get token via client</span>
<span class='no'>client</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='st'>'MzJkY2VlY2UtODI2Yy00Yjk4LTljMmQtYjE2OTc4ZjBjYTZhOjRhZGE4'</span>,
                <span class='st'>'NzFhLTk1MjgtNGI0ZC1iZmQ1LWI1NzBjZThmNGQyZA=='</span>)
<span class='no'>my_token</span> <span class='kw'>&lt;-</span> <span class='fu'>get_token</span>(<span class='kw'>client</span> <span class='kw'>=</span> <span class='no'>client</span>)
<span class='fu'>print</span>(<span class='no'>my_token</span>)</div><div class='output co'>#&gt; Token:
#&gt; eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI3M2I1MTYzYy04OTI2LTRhOTItOWIwNi0zN2U1ZmFjOGZjMTYiLCJpYXQiOjE1MzgzOTU3NjcsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9LaVdlYlBvcnRhbC9hdXRoIiwiYXVkIjoiMzJkY2VlY2UtODI2Yy00Yjk4LTljMmQtYjE2OTc4ZjBjYTZhIiwiZXhwIjoxNTM4NDgyMTY3fQ.g87ITrXZJ4oYg4PIXu-3L0xTm3XTnMcWjCDNnbxY5VM
#&gt; 
#&gt; Attributes:
#&gt;  url: http://download.waterinfo.be/kiwis-auth/token
#&gt;  type: Bearer
#&gt;  expires: 2018-10-02 14:09:26 CEST</div><div class='input'><span class='fu'>is.expired</span>(<span class='no'>my_token</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'><span class='fu'>expires.in</span>(<span class='no'>my_token</span>)</div><div class='output co'>#&gt; Time difference of 24 hours</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://twitter.com/SVanHoey'>Stijn Van Hoey</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

