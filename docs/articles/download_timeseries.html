<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download time series from Waterinfo.be • wateRinfo</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">wateRinfo</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/define_date_periods.html">Definition of the date period to download</a>
    </li>
    <li>
      <a href="../articles/download_timeseries_batch.html">Downloading time series in batch</a>
    </li>
    <li>
      <a href="../articles/download_timeseries.html">Download time series from Waterinfo.be</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/stijnvanhoey/wateRinfo">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Download time series from Waterinfo.be</h1>
                        <h4 class="author">Stijn Van Hoey</h4>
            
            <h4 class="date">2017-10-21</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The <a href="https://www.waterinfo.be">waterinfo.be</a> API uses a system of identifiers, called <code>ts_id</code> to define individual time series. For example, the identifier <code>ts_id = 78073042</code> corresponds to the time series of air pressure data for the measurement station in Liedekerke, with a 15 min time resolution. Hence, the <code>ts_id</code> identifier defines a variable of interest from a measurement station of interest with a specific frequency (e.g. 15 min, hourly,…). The knowledge of the proper identifier is essential to be able to download the corresponding data.</p>
</div>
<div id="downloading-with-known-ts-identifier" class="section level2">
<h2 class="hasAnchor">
<a href="#downloading-with-known-ts-identifier" class="anchor"></a>Downloading with known <code>ts</code> identifier</h2>
<p>In case you already know the <code>ts_id</code> identifier that defines your time serie, the package provides the function <code>get_timeseries_tsid</code> to download a specific period of the time series.</p>
<p>As an example, to download the air pressure time series data of Liedekerke with a 15 min resolution (<code>ts_id = 78073042</code>) for the first of January 2016:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_data &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"78073042"</span>, <span class="dt">from =</span> <span class="st">"2016-01-01"</span>, <span class="dt">to =</span> <span class="st">"2016-01-02"</span>)
knitr::<span class="kw">kable</span>(<span class="kw">head</span>(my_data), <span class="dt">align =</span> <span class="st">"lcc"</span>)</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Timestamp</th>
<th align="center">Value</th>
<th align="center">Quality Code</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2016-01-01 00:00:00</td>
<td align="center">1021.3</td>
<td align="center">130</td>
</tr>
<tr class="even">
<td align="left">2016-01-01 00:15:00</td>
<td align="center">1021.5</td>
<td align="center">130</td>
</tr>
<tr class="odd">
<td align="left">2016-01-01 00:30:00</td>
<td align="center">1021.6</td>
<td align="center">130</td>
</tr>
<tr class="even">
<td align="left">2016-01-01 00:45:00</td>
<td align="center">1021.7</td>
<td align="center">130</td>
</tr>
<tr class="odd">
<td align="left">2016-01-01 01:00:00</td>
<td align="center">1021.7</td>
<td align="center">130</td>
</tr>
<tr class="even">
<td align="left">2016-01-01 01:15:00</td>
<td align="center">1021.7</td>
<td align="center">130</td>
</tr>
</tbody>
</table>
<p>For more information on defining the period of the download, a separate vignette is available. Let’s have a visual check of our data, using the <code>ggplot2</code> package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(my_data, <span class="kw">aes</span>(Timestamp, Value)) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>()</code></pre></div>
<p><img src="download_timeseries_files/figure-html/tsvisual-1.png" width="672"></p>
<p>As such, knowing the identifier is the most straightforward way of downloading a time series. In order to find these <code>ts_id</code> identifier, the package supports looking for identifiers based on a supported variable name (limited set of supported variables by VMM) or looking for identifiers by checking all variables for an individual station. These methods are explained in the next sections.</p>
</div>
<div id="search-identifier-based-on-variable-name" class="section level2">
<h2 class="hasAnchor">
<a href="#search-identifier-based-on-variable-name" class="anchor"></a>Search identifier based on variable name</h2>
<p>For a number of variables, the <a href="https://www.waterinfo.be/download/9f5ee0c9-dafa-46de-958b-7cac46eb8c23?dl=0">documentation of the Waterinfo.be API</a> provides a direct overview option of all available VMM measurement stations, using the so-called <code>Timeseriesgroup_id</code>. For these variables, the package provides the function <code>get_stations</code> to download an overview of available measurement stations and the related <code>ts_id</code> identifiers. The latter can be used to <a href="#Downloading-with-known-ts-identifier">download the time series</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/get_stations.html">get_stations</a></span>(<span class="st">"air_pressure"</span>)</code></pre></div>
<pre><code>##      ts_id station_latitude station_longitude station_id station_no
## 1 78124042         51.20300          5.439589      12213   ME11_002
## 2 78039042         51.24379          4.266912      12208   ME04_001
## 3 78005042         51.02263          2.970584      12206   ME01_003
## 4 78107042         51.16224          4.845708      12212   ME10_011
## 5 78073042         50.88663          4.094898      12210   ME07_006
## 6 78022042         51.27226          3.728299      12207   ME03_017
## 7 78056042         50.86149          3.411318      12209   ME05_019
## 8 78090042         50.73795          5.141976      12211   ME09_012
##              station_name stationparameter_name parametertype_name
## 1             Overpelt_ME                    Pa                 Pa
## 2              Melsele_ME                    Pa                 Pa
## 3               Zarren_ME                    Pa                 Pa
## 4            Herentals_ME                    Pa                 Pa
## 5           Liedekerke_ME                    BP                 Pa
## 6            Boekhoute_ME                    Pa                 Pa
## 7              Waregem_ME                    Pa                 Pa
## 8 Niel-bij-St.-Truiden_ME                    Pa                 Pa
##   ts_unitsymbol dataprovider
## 1           hPa          VMM
## 2           hPa          VMM
## 3           hPa          VMM
## 4           hPa          VMM
## 5           hPa          VMM
## 6           hPa          VMM
## 7           hPa          VMM
## 8           hPa          VMM</code></pre>
<p>By default, the expected frequency is the 15 min frequency of the time series. However, for some of the variables, multiple frequencies are supported by the API. The package provides a check on the supported variables and frequencies. An overview of the currently supported variables can be requested with the command <code><a href="../reference/supported_variables.html">supported_variables()</a></code> (either in dutch, <code>nl</code>, or in english, <code>en</code>). Actually, more variables are available with the API (see next section), but for each of these variables the <code>get_stations</code> function is supported (i.e. the <code>Timeseriesgroup_id</code> is documented by VMM).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/supported_variables.html">supported_variables</a></span>(<span class="st">"en"</span>) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">as.list</span>()</code></pre></div>
<pre><code>## $variable_en
##  [1] "discharge"             "soil_saturation"      
##  [3] "soil_moisture"         "dew_point_temperature"
##  [5] "ground_temperature"    "ground_heat"          
##  [7] "irradiance"            "air_pressure"         
##  [9] "air_temperature_175cm" "rainfall"             
## [11] "relative_humidity"     "evaporation_monteith" 
## [13] "evaporation_penman"    "water_velocity"       
## [15] "water_level"</code></pre>
<p>To check which predefined frequencies are provided by the Waterinfo.be API for a given variable, the <code>supported_frequencies</code> function is available:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/supported_frequencies.html">supported_frequencies</a></span>(<span class="dt">variable_name =</span> <span class="st">"air_pressure"</span>)</code></pre></div>
<pre><code>## [1] "15min"</code></pre>
<p>Hence, for air pressure data, only the 15 min resolution is supported. Compared to evaporation derived by the <a href="https://en.wikipedia.org/wiki/Penman%E2%80%93Monteith_equation">Monteith equation</a>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/supported_frequencies.html">supported_frequencies</a></span>(<span class="dt">variable_name =</span> <span class="st">"evaporation_monteith"</span>)</code></pre></div>
<pre><code>## [1] "15min, day, month, year"</code></pre>
<p>multiple resolutions are available. Using the coarser time resolutions can be helpful when you want to download longer time series while keeping the number of records to download low (if the frequency would be sufficient for your analysis).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">stations &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_stations.html">get_stations</a></span>(<span class="st">"evaporation_monteith"</span>, <span class="dt">frequency =</span> <span class="st">"year"</span>)
subset_of_columns &lt;-<span class="st"> </span>stations %&gt;%<span class="st"> </span><span class="kw">select</span>(ts_id, station_no, station_name, 
                                         parametertype_name, ts_unitsymbol)
knitr::<span class="kw">kable</span>(subset_of_columns)</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">ts_id</th>
<th align="left">station_no</th>
<th align="left">station_name</th>
<th align="left">parametertype_name</th>
<th align="left">ts_unitsymbol</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">94306042</td>
<td align="left">ME01_003</td>
<td align="left">Zarren_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="even">
<td align="right">94512042</td>
<td align="left">ME09_012</td>
<td align="left">Niel-bij-St.-Truiden_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="odd">
<td align="right">94526042</td>
<td align="left">ME10_011</td>
<td align="left">Herentals_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="even">
<td align="right">94540042</td>
<td align="left">ME11_002</td>
<td align="left">Overpelt_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="odd">
<td align="right">94456042</td>
<td align="left">ME03_017</td>
<td align="left">Boekhoute_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="even">
<td align="right">94484042</td>
<td align="left">ME05_019</td>
<td align="left">Waregem_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="odd">
<td align="right">94470042</td>
<td align="left">ME04_001</td>
<td align="left">Melsele_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
<tr class="even">
<td align="right">94498042</td>
<td align="left">ME07_006</td>
<td align="left">Liedekerke_ME</td>
<td align="left">PET</td>
<td align="left">mm</td>
</tr>
</tbody>
</table>
<p>When interesed in the data of <code>Herentals_ME</code>, we can use the corresponding <code>ts_id</code> to download the time series of PET with a yearly frequency and make a plot with <code>ggplot</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pet_yearly &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"94526042"</span>, <span class="dt">period =</span> <span class="st">"P10Y"</span>)
pet_yearly %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">na.omit</span>() %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(Timestamp, Value)) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">"identity"</span>) +
<span class="st">    </span><span class="kw">scale_x_datetime</span>(<span class="dt">date_labels =</span> <span class="st">"%Y"</span>, <span class="dt">date_breaks =</span> <span class="st">"1 year"</span>) +<span class="st"> </span>
<span class="st">    </span><span class="kw">xlab</span>(<span class="st">""</span>) +<span class="st"> </span><span class="kw">ylab</span>(<span class="st">"PET Herentals (mm)"</span>)</code></pre></div>
<p><img src="download_timeseries_files/figure-html/yearly_pet-1.png" width="672"> (see the vignette on defining date periods for more information on the period argument used)</p>
<p><strong>Remark:</strong> the <code>get_stations</code> function only works for those measurement stations belonging to the VMM <code>meetnet</code> (network), related to the so-called <code>datasource = 1</code>. For <a href="http://www.waterinfo.be/default.aspx?path=NL/HIC/Recent_toelichting">other networks</a>, i.e. <code>datasource = 2</code>, the enlisting is not supported. Still, a search for data is provided starting from a given station name, as explained in the next section.</p>
</div>
<div id="search-identifier-based-on-station-name" class="section level2">
<h2 class="hasAnchor">
<a href="#search-identifier-based-on-station-name" class="anchor"></a>Search identifier based on station name</h2>
<p>Apart from the option to check the measurement stations that can provide data for a given variable, the package provides the function <code>get_variables</code> to get an overview of the available variables for a given station, using the <code>station_no</code>. The advantage compared to the <code>ts_id</code> is that these <code>station_no</code> names are provided by the waterinfo.be website itself when exploring the data. When clicking on a measurement station on the map and checking the time series graph, the <code>station_no</code> is provided in the upper left corner in between brackets.</p>
<div class="figure">
<img src="waterinfo_screen.png" alt="Waterinfo.be example printscreen of time series"><p class="caption">Waterinfo.be example printscreen of time series</p>
</div>
<p>So, for the example in the figure, i.e. <code>station_no = zes42a-1066</code>, the available time series are retrieved by using the <code>get_variables</code> command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_variables.html">get_variables</a></span>(<span class="st">"zes42a-1066"</span>)</code></pre></div>
<pre><code>## [1] "Use datasource: 2 for data requests of this station!"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables %&gt;%<span class="st"> </span><span class="kw">select</span>(ts_id, station_name, ts_name, 
                               parametertype_name)</code></pre></div>
<pre><code>##     ts_id               station_name                    ts_name
## 1 3066658 Sint-Amands tij/Zeeschelde  zes42aSTAM.W_t6.HWLW.base
## 2 2810041 Sint-Amands tij/Zeeschelde  zes42aSTAM.W_t6.1min.base
## 3 2810011 Sint-Amands tij/Zeeschelde zes42aSTAM.W_t6.10min.base
## 4 3066655 Sint-Amands tij/Zeeschelde    zes42aSTAM.W_t6.LW.base
## 5 2809769 Sint-Amands tij/Zeeschelde             zes42aSTAM.W_r
## 6 3066652 Sint-Amands tij/Zeeschelde    zes42aSTAM.W_t6.HW.base
## 7 3047251 Sint-Amands tij/Zeeschelde zes42aSTAM.W_r.KK.HWLW.tpk
##   parametertype_name
## 1                  h
## 2                  h
## 3                  h
## 4                  h
## 5                  h
## 6                  h
## 7                  h</code></pre>
<p>The available number of variables depends on the measurement station. The representation is not standardized and depends also from the type of <a href="http://www.waterinfo.be/default.aspx?path=NL/HIC/Recent_toelichting"><code>meetnet</code></a>. Nevertheless, one can derive the required <code>ts_id</code> from the list when interpreting the field names. Remark that the datasource can be 2 instead of 1 for specific <code>meetnetten</code> (networks). The datasource to use is printed when asking the variables for a station.</p>
<p>In order to download the 10 min time series water level data for the station in Sint-Amands tij/Zeeschelde, the <code>ts_id = 2810011</code> can be used in the <code>get_timeseries_tsid</code> function, taking into account the <code>datasource = 2</code> (default is 1):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tide_stamands &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"2810011"</span>, 
                                     <span class="dt">from =</span> <span class="st">"2017-06-01"</span>, <span class="dt">to =</span> <span class="st">"2017-06-05"</span>,
                                     <span class="dt">datasource =</span> <span class="dv">2</span>)
<span class="kw">ggplot</span>(tide_stamands, <span class="kw">aes</span>(Timestamp, Value)) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>() +<span class="st"> </span><span class="kw">xlab</span>(<span class="st">""</span>) +<span class="st"> </span><span class="kw">ylab</span>(<span class="st">"waterlevel"</span>)</code></pre></div>
<p><img src="download_timeseries_files/figure-html/downloadstamands-1.png" width="672"></p>
<p>For some measurement stations, the number of variables can be high (lots of precalculated derivative values) and extracting the required time series identifier is not always straightforward. For example, the dat Etikhove/Schuif/Nederaalbeek (<code>K06_OM225</code>), provides the following number of variables:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_variables.html">get_variables</a></span>(<span class="st">"K06_OM225"</span>)</code></pre></div>
<pre><code>## [1] "Use datasource: 1 for data requests of this station!"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(available_variables)</code></pre></div>
<pre><code>## [1] 118</code></pre>
<p>As the measured variables at a small time resolution are of most interest, filtering on <code>P.15</code> (or <code>P.1</code>, <code>P.60</code>,…) will help to identify measured time series, for those stations belonging to the <code>meetnet</code> of VMM (<code>datasource = 1</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_variables.html">get_variables</a></span>(<span class="st">"K06_OM225"</span>)</code></pre></div>
<pre><code>## [1] "Use datasource: 1 for data requests of this station!"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(ts_name ==<span class="st"> "P.15"</span>)</code></pre></div>
<pre><code>##                   station_name station_no    ts_id ts_name
## 1 Etikhove/Schuif/Nederaalbeek  K06_OM225 84094042    P.15
## 2 Etikhove/Schuif/Nederaalbeek  K06_OM225 31882042    P.15
## 3 Etikhove/Schuif/Nederaalbeek  K06_OM225 22322042    P.15
## 4 Etikhove/Schuif/Nederaalbeek  K06_OM225 29156042    P.15
## 5 Etikhove/Schuif/Nederaalbeek  K06_OM225 22302042    P.15
##   parametertype_name stationparameter_name
## 1 Volume Wachtbekken    Volume_wachtbekken
## 2                 Hk               Hschuif
## 3                  H                  Hopw
## 4                  H    Hafw 100m afwaarts
## 5                  H                  Hafw</code></pre>
<p>Loading and visualizing the last day (period <code>P1D</code>) of available data for the water level 100m downstream (<code>Hafw 100m afwaarts</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">afw_etikhove &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"29156042"</span>, 
                                    <span class="dt">period =</span> <span class="st">"P1D"</span>,
                                    <span class="dt">datasource =</span> <span class="dv">1</span>) <span class="co"># 1 is default</span>

<span class="kw">ggplot</span>(afw_etikhove, <span class="kw">aes</span>(Timestamp, Value)) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>() +<span class="st"> </span><span class="kw">xlab</span>(<span class="st">""</span>) +<span class="st"> </span><span class="kw">ylab</span>(<span class="st">"Volume"</span>)</code></pre></div>
<p><img src="download_timeseries_files/figure-html/afw_etik_fig-1.png" width="672"></p>
<p>We can do similar filtering to check for time series on other stations, for example the Molenbeek in Etikhove:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_variables.html">get_variables</a></span>(<span class="st">"LS06_347"</span>)</code></pre></div>
<pre><code>## [1] "Use datasource: 1 for data requests of this station!"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">available_variables %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(ts_name ==<span class="st"> "P.15"</span>)</code></pre></div>
<pre><code>##         station_name station_no    ts_id ts_name parametertype_name
## 1 Etikhove/Molenbeek   LS06_347 63483042    P.15                  H
## 2 Etikhove/Molenbeek   LS06_347 96428042    P.15         Sed.vracht
## 3 Etikhove/Molenbeek   LS06_347 27648042    P.15                  T
## 4 Etikhove/Molenbeek   LS06_347 60850042    P.15           Sed.conc
## 5 Etikhove/Molenbeek   LS06_347 66411042    P.15              Sed.Q
## 6 Etikhove/Molenbeek   LS06_347 38635042    P.15                  v
## 7 Etikhove/Molenbeek   LS06_347 70346042    P.15                  Q
##   stationparameter_name
## 1                     H
## 2            Sed.vracht
## 3                     T
## 4              Sed.conc
## 5                 Sed.Q
## 6                     v
## 7                     Q</code></pre>
<p>And use the <code>ts_id</code> code representing discharge to create a plot of the discharge during a storm in 2010:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">etikhove &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_timeseries_tsid.html">get_timeseries_tsid</a></span>(<span class="st">"70346042"</span>, 
                                <span class="dt">from =</span> <span class="st">"2010-11-09"</span>, <span class="dt">to =</span> <span class="st">"2010-11-16"</span>)

<span class="kw">ggplot</span>(etikhove, <span class="kw">aes</span>(Timestamp, Value)) +<span class="st"> </span>
<span class="st">    </span><span class="kw">geom_line</span>() +<span class="st"> </span><span class="kw">xlab</span>(<span class="st">""</span>) +<span class="st"> </span><span class="kw">ylab</span>(<span class="st">"Q (m3/s)"</span>)</code></pre></div>
<p><img src="download_timeseries_files/figure-html/disch_etik-1.png" width="672"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#downloading-with-known-ts-identifier">Downloading with known <code>ts</code> identifier</a></li>
      <li><a href="#search-identifier-based-on-variable-name">Search identifier based on variable name</a></li>
      <li><a href="#search-identifier-based-on-station-name">Search identifier based on station name</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Stijn Van Hoey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
